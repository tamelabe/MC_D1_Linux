## Part 1. Установка ОС
* Установка Ubuntu 20.04 Server LTS без графического интерфейса 
* Проверяем версию Ubuntu командой `cat /etc/issue`<br>
![Версия Ubuntu](screens/1.png)<br>*Версия Ubuntu*<br>

## Part 2. Создание пользователя
* Создаём нового пользователя командой `sudo adduser tame`<br>
![Создание нового пользователя](screens/2.1.png)<br>*Создание нового пользователя tame*
<br>

* Вызываем команду `sudo usermod -aG adm tame`<br>
![tame даны права администратора](screens/2.2.png)<br>*tame даны права администратора*
<br>

* Вызываем команду `cat /etc/passwd` <br>
![Проверка создания пользователя](screens/2.3.png)<br>*Проверка создания пользователя*<br>

## Part 3. Настройка сети ОС
* Изменяем название машины на user-1 с помощью команды `hostnamectl set-hostname user-1`<br>
![Изменяем название машины](screens/3.1.1.png)<br>*Изменяем название машины*
<br>
* Выполняем перезагрузку для сохранения изменений
* Вызов `cat /etc/hostname` <br>
![Проверяем изменение названия машины](screens/3.1.2.png)<br>*Проверяем изменение названия машины*
<br>

* Проверяем текущие настройки часового пояса командой `timedatectl`<br>
![Проверка часового пояса](screens/3.2.1.png)<br>*Проверка часового пояса*
<br>

* Устанавливаем нужный часовой пояс командой  `sudo timedatectl set-timezone Europe/Moscow`<br>
![Установка часового пояса](screens/3.2.2.png)<br>*Установка часового пояса*
<br>

* Проверяем изменения командой `timedatectl`<br>
![Проверка изменений](screens/3.2.3.png)<br>*Проверка изменений*
<br>

* Вывод названия сетевых интерфейсов с помощью команды `ls /sys/class/net`<br>
![Названия сетевых интерфейсов](screens/3.3.png)<br>*Названия сетевых интерфейсов*
<br>

* **Loopback** — совокупность методов, нужных для корректной работы маршрутизатора и передачи данных.<br>
* Сам интерфейс же является отображением логических процессов в маршрутизаторе. Также саму технологию используют и для других целей:<br>
    1) тестирование передачи данных от обслуживающего центра коммутации;<br>
    2) проверка сигнала на расстоянии;<br>
    3) обеспечение работы коммутационных кабелей и их проверка;<br>
    4) тест обратной петли, когда сигнал посылается и возвращается отправителю по всем коммуникационным каналам.<br>

* С помощью команды `ip r` получаем ip адрес устройства, на котором мы работаем, от DHCP сервера.<br>
![ip-адрес устройства](screens/3.4.png)<br>*ip-адрес устройства*
<br>

* **Dynamic Host Configuration Protocol (DHCP)** - это протокол управления сетью, используемый в сетях TCP/IP, в котором DHCP-сервер динамически присваивает каждому устройству IP-адрес и другие параметры сетевой конфигурации, чтобы они могли связываться с другими IP-сетями.<br>

* Выводим внешний(ip) и внутренний(gw) ip-адреса шлюза командами `wget -qO- eth0.me` и `ip route | grep default`<br>
![ip-адреса шлюза](screens/3.5.png)<br>*ip-адреса шлюза* 
<br>

* Задаем статичные настройки ip, gw, dns командой `sudo nano /etc/resolv.conf`<br>
![Редактирование настроек ip, gw и dns](screens/3.6.png)<br>*Редактирование настроек ip, gw и dns*
<br>

* Перезагружаем виртуальную машину командой `reboot`<br>
* Проверяем, что статичные сетевые настройки (ip, gw, dns) соответствуют данным, командой  `ping -c 8 8.8.8.8 && ping -c 8 ya.ru`<br>
![Проверяем настройки](screens/3.7.png)<br>*Проверяем настройки*
<br>

## Part 4. Обновление ОС
* Командой `sudo apt update` узнаём, сколько есть пакетов обновления<br>
* Обновляем системные пакеты до последней, на момент выполнения задания, версии командой `sudo apt full-upgrade`<br>
* После обновления системных пакетов, вводим команду обновления повторно, выводится сообщение, что обновления отсутствуют.<br>
![Проверяем обновления](screens/4.png)<br>*Проверяем обновления*<br>

## Part 5. Использование команды sudo
* sudo (англ. Substitute User and do, дословно «подменить пользователя и выполнить») — программа для системного администрирования UNIX-систем, позволяющая делегировать те или иные привилегированные ресурсы пользователям с ведением протокола работы.<br>
Разрешаем пользователю(tame), созданному в Part 2, выполнять команду sudo командой `sudo usermod -a -G sudo tame`<br>
![Разрешение sudo](screens/5.1.png)<br>*Разрешение sudo*
<br>

* Переключение на пользователя `su - tame`<br>
* Изменение и проверка hostname ОС от имени пользователя *tame* `sudo hostname tame`<br>
![hostname ОС от имени пользователя tame](screens/5.2.png)<br>*hostname ОС от имени пользователя tame*<br>

## Part 6. Установка и настройка службы времени
Настраиваем службу автоматической синхронизации времени<br>
* Командой `date` вывести время, часового пояса, в котором мы сейчас находимся<br>
![Вывод времени](screens/6.1.png)<br>*Вывод времени*
<br>

* Установка NTP командой `sudo apt install systemd-timesyncd`<br>
* Активируем NTP командой `sudo timedatectl set-ntp on`<br>
* Вывод команды `timedatectl show` содержит **NTPSynchronized=yes**: <br>
![Вывод команды](screens/6.2.png)<br>*Вывод команды*<br>

## Part 7. Установка и использование текстовых редакторов
Установка текстового редактор MCEDIT командой `sudo apt install mc`<br>

Создаём и редактируем файл с сохранением изменений:<br>
* **VIM**: создаем файл с помощью команды `vim test_vim.txt`<br>
* Нажимаем на "i" в самом редакторе, для редактирования<br>
* Пишу свой ник: "tamelabe"<br>
Для выхода с сохранением используем команды: `Esc`, `:wq`, `Enter`<br>
![VIM](screens/7.1.png)
<br>

* **NANO**: создаем файл с помощью команды `nano test_nano.txt`<br>
* Пишу свой ник: "tamelabe"<br>
* Для выхода с сохранением используем команды: `ctrl+x`, `Y`, `Enter`<br>
![NANO](screens/7.2.png)
<br>

* **MCEDIT**: создаем файл с помощью команды `mcedit test_mcedit.txt`<br>
* Пишу свой ник: "tamelabe"<br>
* Для выхода с сохранением используем команды: `fn+F2`, `Enter`, `fn+F10`<br>
![MCEDIT](screens/7.3.png)
<br>

Редактирование файла с заменой слова без сохранения изменений:<br>
* **VIM**: открываем файл с помощью команды `vim test_vim.txt`<br>
* Нажимаем на "i" в самом редакторе, для редактирования<br>
* Изменяем "tamelabe" на "21 School 21"<br>
* Для выхода без сохранения используем команды: `Esc`, **`:q!`**, `Enter`<br>
![VIM](screens/7.4.png)
<br>

* **NANO**: открываем файл с помощью команды `nano test_nano.txt`<br>
* Изменяем "tamelabe" на "21 School 21"<br>
* Для выхода без сохранения используем команды: `ctrl+x`, `N`, `Enter`<br>
![NANO](screens/7.5.png)
<br>

* **MCEDIT**: открываем файл с помощью команды `mcedit test_mcedit.txt`.<br>
* Изменяем "tamelabe" на "21 School 21"<br>
* Для выхода без сохранения используем команды: `fn+F10`, `No`, `Enter`<br>
![MCEDIT](screens/7.6.png)
<br>

Редактирование файла с поиском и заменой слова:<br>
* **VIM**: открываем файл с помощью команды `vim test_vim.txt`<br>
* Для поиска в VIM вводим `/tamelabe` и искомое слово выделяется в самом редакторе<br>
![VIM](screens/7.7.png)
<br>:

* Для замены слова в VIM вводим `:%s/tamelabe/21 School 21` и слово "tamelabe" заменяется на "21 School 21"<br>
![VIM](screens/7.8.png)
<br>

* **NANO**: открываем файл с помощью команды `nano test_nano.txt`<br>
* Для поиска в NANO вводим `ctrl+W`<br>
![NANO](screens/7.9.png)
<br>

* Для замены слова в NANO вводим `ctrl+\`, пишем "tamelabe", нажимаем `Enter`, пишем "21 School 21", нажимаем `Enter`, выбираем `Y`<br>
![NANO](screens/7.10.png)
<br>

* **MCEDIT**: открываем файл с помощью команды `mcedit test_mcedit.txt`<br>
* Для поиска в MCEDIT вводим `fn+F7`, вводим слово, которое хотим найти, нажимаем `Enter`<br>
![MCEDIT](screens/7.11.png)
<br>

* Для замены слова в MCEDIT вводим `fn+F4` пишем "tamelabe", нажимаем на клавишу "стрелка вниз", пишем "21 School 21", нажимаем `Enter`, выбираем `Replace`<br>
![MCEDIT](screens/7.12.png)<br>
![MCEDIT](screens/7.13.png)<br>

## Part 8. Установка и базовая настройка сервиса SSHD
* Устанавливаем службу SSHd командой `sudo apt install openssh-server`<br>
* Проверяем наличие командой `ssh -V`<br>
![Служба SSHd](screens/8.1.png)<br>*Служба SSHd*
<br>

* Добавляем автостарт службы SSHd командой `sudo update-rc.d ssh defaults`<br>
* Изменяем порт SSHd командой `sudo vim /etc/ssh/sshd_config`<br>
* Добавляем строку `Port 2022`.<br>
![Прописываем порт 2022](screens/8.2.png)<br>*Прописываем порт 2022*
<br>

* Для применения изменений используем команду `/etc/init.d/ssh restart`<br>
![Перезапуск](screens/8.3.png)<br>*Перезапуск*
<br>

Проверяем наличие процесса SSHd командой `ps -axfv | grep sshd`<br>
![Наличие процесса SSHd](screens/8.4.png)<br>*Наличие процесса SSHd*
<br>

* Команда `ps` выводит список текущих процессов на вашем сервере. Используется обычно в сочетании с командой `grep`<br>
* Флаги:<br>
    1) -a: Выбирает все процессы, кроме лидеров сеансов и процессов, не связанных с терминалом.<br>
    2) -x: Заставляет `ps` отображать список всех процессов, которыми вы владеете (тот же EUID, что и у `ps`), или перечислять все процессы при использовании вместе с опцией a<br>
    3) -f: Выводит полноформатный список<br>
    4) -v: Выводит информацию о версии<br>

* Устанавливаем **net-tools** `sudo apt install net-tools`<br>
* Выполняем команду `netstat -tan`<br>
![Выполнение команды netstat -tan](screens/8.5.png)<br>*Выполнение команды netstat -tan*
<br>

* Опция **-a** показывает состояние всех сокетов; **-n** показывает ip адрес, а не сетевое имя; **-t** показывает только tcp соединения.<br>
* Значения столбцов:<br>
    1) Proto - протокол, используемый сокетом;<br>
    2) Recv-Q - количество байтов, не скопированных пользовательской программой, подключенной к этому сокету;<br>
    3) Local Address - локальный адрес (имя локального хоста) и номер порта сокета;<br>
    4) Foreign Address - удаленный адрес (имя удаленного хоста) и номер порта сокета;<br>
    5) State - состояние сокета;<br>
    6) 0.0.0.0 в этом контексте означает "все IP-адреса на локальной машине".<br>
* Перезагружаем систему командой `sudo reboot`<br>

## Part 9. Установка и использование утилит **top**, **htop**
**top**:<br>
* Запуск утилиты **top** командой `top`<br>
![Запуск top](screens/9.1.png)
<br>

* uptime:<br>
* количество авторизированных пользователей<br>
* общая загрузка системы<br>
* общее количество процессов<br>
* загрузка cpu<br>
* загрузка памяти<br>
![загрузка памяти](screens/9.2.png)
<br>

* pid процесса, занимающего больше всего памяти<br>
* pid процесса, занимающего больше всего процессорного времени<br>
![pid процесса, занимающего больше всего процессорного времени](screens/9.3.png)
<br>

**htop**:<br>
* Запуск утилиты **htop** командой `htop` <br>
![Запуск htop](screens/9.4.png)
<br>

* Для выбора поля сортировки использовать `F6`:
    * PID<br>
    ![PID](screens/9.5.png)
    <br>

    * PERCENT_CPU<br>
    ![PERCENT_CPU](screens/9.6.png)
    <br>
    
    * PERCENT_MEM<br>
    ![PERCENT_MEM](screens/9.7.png)
    <br>
    
    * TIME<br>
    ![TIME](screens/9.8.png)
    <br>
    
    * Для фильтра по SSHd используются клавиши `fn+F4`, `"sshd"`, `Enter`<br>
    ![SSHd](screens/9.9.png)
    <br>
    
    * Для поиска процессa syslog используются клавиши `fn+F3`, `"syslog"`, `Enter`<br>
    ![Поиск syslog](screens/9.10.png)<br>
    * Дополнительные поля, такие какие как `"uptime"`, `"clock"`, `"hostname"` добавляем через опцию `"Setup" fn+F2.`<br>
    ![Поиск syslog](screens/9.11.png)<br>

## Part 10. Использование утилиты **fdisk**
* Запуск утилиты командой `sudo fdisk -l`, проверка размера swap `swapon --show`<br>
    ![Вывод команды fdisk -l](screens/10.png)
    <br>

    * Название жесткого диска: VBOX HARDDISK<br>
    * Размер: 10 GiB<br>
    * Количество секторов: 20971520<br>
    * Размер swap: 1.7G <br>

## Part 11. Использование утилиты **df**
* Выводим команду `df /`<br>
    ![Вывод команды df](screens/11.2.png)
    <br>
    
    * Размер раздела: 9299276<br>
    * Размер занятого пространства: 4842648<br>
    * Размер свободного пространства: 3962652<br>
    * Процент использования: 55%<br>
    * Единица измерения в выводе: Кб<br>

* Вывод команды `df -Th /`<br>
    ![Вывод команды df -Th](screens/11.3.png)
    <br>

    * Размер раздела: 8.9G<br>
    * Размер занятого пространства: 4.7G<br>
    * Размер свободного пространства: 3.8G<br>
    * Процент использования: 55%<br>
    * Тип файловой системы для раздела: ext4<br>

## Part 12. Использование утилиты **du**
* Запуcк команды `du`<br>
    ![Вывод команды du](screens/12.1.png)
    <br>

* Вывести размер папок `/home`, `/var`, `/var/log` с помощью команды `sudo du -s -h /home && sudo du -s -h /var && sudo du -s -h /var/log`<br>
    ![Размер папок](screens/12.2.png)
    <br>
    
* Вывести размер всего содержимого в `/var/log` с помощью команды `sudo du -a -h /var/log`<br>
    ![Размер всего содержимого в /var/log](screens/12.3.png)<br>

## Part 13. Установка и использование утилиты **ncdu**
* Устанавливаем утилиту **ncdu** командой `sudo apt install ncdu`<br>
* Вывести размер папок с помощью команды `ncdu`:<br>
* `/home`<br>![Вывод команды ncdu /home](screens/13.1.png)<br>
* `/var`<br>![Вывод команды ncdu /var](screens/13.2.png)<br>
* `/var/log`<br>![Вывод команды ncdu /var/log](screens/13.3.png)<br>

## Part 14. Работа с системными журналами
* Время последней успешной авторизации, имя пользователя и метод входа в систему<br>
    ![Время последней успешной авторизации, имя пользователя](screens/14.1.png)
    <br>
    ![Время последней успешной авторизации, имя пользователя и метод входа в систему](screens/14.2.png)
    <br>

    * Время авторизации: Jul 19 19:28<br>
    * Имя пользователя: tamelabe<br>
    * Метод входа в систему: tty1<br>
    * Перезапустить службу SSHd: `sudo /etc/init.d/ssh restart`<br>
    * Сообщение о рестарте службы: `sudo cat /var/log/syslog`<br>
    ![Сообщение о рестарте службы](screens/14.3.png)<br>

## Part 15. Использование планировщика заданий **CRON**
* Установка **CRON**: `sudo apt install cron`<br>
* Запланировать задачу: `crontab -e`<br>
* Запланировать команду uptime каждые 2 минуты: `"*/2 * * * * uptime"`, `ctrl+x`, `y`, `Enter`<br>
![Задача uptime](screens/15.1.png)
<br>

* Список текущих заданий для **CRON** выводится командой `crontab -l`<br>
![Список текущих заданий](screens/15.2.png)
<br>

* Строчки о выполнении в системных журналах выводим с помощью команды `sudo grep CRON /var/log/syslog`<br>
![Строчки о выполнении в системных журналах](screens/15.3.png)
<br>

* Удалить все задания из планировщика: `crontab -r`<br>
* Список текущих заданий для **CRON** выводится командой `crontab -l`<br>
![Список текущих заданий](screens/15.4.png)<br>
